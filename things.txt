CREATE TABLE dim_location (
  location_id SERIAL PRIMARY KEY,
  db_location_id INT UNIQUE NOT NULL,
  location VARCHAR(80) NOT NULL,
  direction VARCHAR(25) NOT NULL
);

CREATE TABLE dim_location (
  location_id SERIAL PRIMARY KEY,
  location VARCHAR(80) NOT NULL,
  direction VARCHAR(25) NOT NULL
);

CREATE TABLE dim_time (
  time_id SERIAL PRIMARY KEY,
  full_time TIME UNIQUE NOT NULL,
  hour INT,
  minute INT,
  period VARCHAR(10)
);

CREATE TABLE dim_date (
  date_id SERIAL PRIMARY KEY,
  full_date DATE UNIQUE NOT NULL,
  year INT,
  month INT,
  day INT,
  weekday VARCHAR(20)
);

CREATE TABLE fact_vehicle_counts (
     id SERIAL PRIMARY KEY, 
     date_id INT NOT NULL,
     time_id INT NOT NULL,
     location_id INT NOT NULL,
     car INT DEFAULT 0,
     motorcycle INT DEFAULT 0, 
     bike INT DEFAULT 0,
     truck INT DEFAULT 0,
     bus INT DEFAULT 0,
     n INT DEFAULT 0,
     s INT DEFAULT 0,
     e INT DEFAULT 0,
     w INT DEFAULT 0,
     ne INT DEFAULT 0,
     nw INT DEFAULT 0,
     se INT DEFAULT 0,
     sw INT DEFAULT 0,
     FOREIGN KEY (date_id) REFERENCES dim_date(date_id),
     FOREIGN KEY (time_id) REFERENCES dim_time(time_id),
     FOREIGN KEY (location_id) REFERENCES dim_location(location_id)
);

Laravel : http://localhost:8000/
Vue : http://localhost:8001/
Superset: http://localhost:8088/login/

Main DB: port 5432
Warehouse DB: port 5433
postgresql+psycopg2://user:123@host.docker.internal/warehouse_vehicle_count_db -> para conectar a DW na dashboard do superset

docker compose down -v && docker compose build --no-cache && docker compose up

docker compose up -> para projeto_informatico

docker compose -f docker-compose-image-tag.yml up -> para superset






-----
docker exec -it projeto_informatico-backend-1 php artisan migrate:status
php artisan migrate



CREATE TABLE locations (
    location_id SERIAL PRIMARY KEY,
    location VARCHAR(100) NOT NULL,
    direction VARCHAR(50) NOT NULL
);



alter table vehicle_counts
add constraint fk_vehicle_counts_location_id
foreign key (location_id)
references locations(location_id);


da drop dessa tab (drop table location cascade;) pq o nome esta mal, n esta de acordo com alguma conve√ßao
eu fui ver ao proj de DAD e temos no plural tmb